            document.getElementById('signup-password').value;

            const users = JSON.parse(localStorage.getItem('users')) || [];
            const existingUser = users.find(u => u.username === username);

            if (existingUser) {
                alert('Username already taken');
            } else {
                users.push({ username, password });
                localStorage.setItem('users', JSON.stringify(users));
                alert('Account created successfully');
                document.getElementById('signup-container').style.display = 'none';
                document.getElementById('login-container').style.display = 'block';
            }
        });

        function drawStaff() {
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.lineWidth = 2;
            ctx.strokeStyle = '#000';

            // Draw the 5 lines of the staff
            for (let i = 0; i < 5; i++) {
                ctx.beginPath();
                ctx.moveTo(50, 100 + i * 20);
                ctx.lineTo(canvas.width - 50, 100 + i * 20);
                ctx.stroke();
            }
        }

        function drawNotes() {
            const ctx = canvas.getContext('2d');
            drawStaff();
            if (notesArray.length > 0) {
                notesArray.forEach(note => {
                    ctx.font = `${note.size}px Arial`;
                    ctx.fillText(note.text, note.x, note.y);
                });
            }

            // Position the bin below the staff lines
            const bin = document.getElementById('bin');
            bin.style.top = `${canvas.height - 100}px`;
            bin.style.left = `${canvas.width / 2 - 100}px`;
        }

        function init() {
            drawStaff();
            document.querySelector('.note-buttons').innerHTML = '';
            const notes = ['ð…Ÿ', 'ð… ', 'ð…¡', 'ð…¢', 'ð…£', 'ð…¤', 'ð…¥', 'ð…¦', 'ð…§', 'ð„ž', 'ð„¢', 'ð„¡', 'ð„«', 'â™¯', 'â™­', 
                           'â™ª', 'â™«', 'â™¬', 'â™©', 'ð„ ', 'ð„ª', 'ð„€', 'ð„', 'ð„´', 'ð„µ', 'ð„¶', 'ð„·', 'ð„¸', 'ð„¹', 'ð„º', 
                           'ð„»', 'ð„¼', 'ð„½', 'ð„¾', 'ð„¿', 'ð…€', 'ð…', 'ð…‚', 'ð…ƒ', 'ð…„', 'ð……', 'ð…†', 'ð…‡', 'ð…ˆ'];
            notes.forEach((note, index) => {
                const noteButton = document.createElement('button');
                noteButton.className = 'note-button-container';
                noteButton.innerText = note;
                noteButton.onclick = () => addNoteToCanvas(note);
                document.querySelector('.note-buttons').appendChild(noteButton);
            });
        }

        function addNoteToCanvas(note) {
            const newNote = { text: note, x: 100, y: 100, size: 40 };
            notesArray.push(newNote);
            drawNotes();
        }

        let notesArray = [];
        let selectedNote = null;
        let isDragging = false;

        const canvas = document.getElementById('canvas');
        canvas.addEventListener('mousedown', function (e) {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            selectedNote = notesArray.find(note =>
                x >= note.x - note.size / 2 &&
                x <= note.x + note.size / 2 &&
                y >= note.y - note.size / 2 &&
                y <= note.y + note.size / 2
            );
            if (selectedNote) {
                isDragging = true;
                drawNotes();
            }
        });

        canvas.addEventListener('mousemove', function (e) {
            if (isDragging) {
                const rect = canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                selectedNote.x = x;
                selectedNote.y = y;
                drawNotes();
            }
        });

        canvas.addEventListener('mouseup', function () {
            isDragging = false;
        });

        document.getElementById('save-btn').addEventListener('click', function () {
            const currentUser = localStorage.getItem('currentUser');
            if (!currentUser) {
                alert('You need to be logged in to save');
                return;
            }

            const selectedSlot = document.getElementById('slot-select').value;
            const userData = JSON.parse(localStorage.getItem('userData')) || {};
            userData[currentUser] = userData[currentUser] || {};
            userData[currentUser][selectedSlot] = notesArray;
            localStorage.setItem('userData', JSON.stringify(userData));
            alert('Saved successfully!');
        });

        document.getElementById('load-btn').addEventListener('click', function () {
            const currentUser = localStorage.getItem('currentUser');
            if (!currentUser) {
                alert('You need to be logged in to load');
                return;
            }

            const selectedSlot = document.getElementById('slot-select').value;
            const userData = JSON.parse(localStorage.getItem('userData')) || {};
            notesArray = (userData[currentUser] && userData[currentUser][selectedSlot]) || [];
            drawNotes();
        });

        document.getElementById('logout-btn').addEventListener('click', function () {
            localStorage.removeItem('currentUser');
            document.getElementById('main-container').style.display = 'none';
            document.getElementById('login-container').style.display = 'block';
        });
    </script>
</body>

</html>
